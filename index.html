<!DOCTYPE html>
<!-- saved from url=(0032)http://127.0.0.1:5500/index.html -->
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <script src="./index_files/jquery-1.11.3.min.js.download"></script>
    <script src="./index_files/showdown.min.js.download" integrity="sha512-LhccdVNGe2QMEfI3x4DVV3ckMRe36TfydKss6mJpdHjNFiV07dFpS2xzeZedptKZrwxfICJpez09iNioiSZ3hA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <style>
        body {
            padding: 10px;
            background: floralwhite;
        }
    </style>
</head>

<body>
    <center>
        <h1>é˜…è¯»3.0(Legado)è§„åˆ™è¯´æ˜</h1>
    </center>
    <div class="collapse navbar-collapse" id="main-navigation">
        <ul class="nav navbar-nav navbar-right">
            <li class="dropdown"><a href="javascript:load_README()">ä¹¦æºè§„åˆ™</a></li>
            <li class="dropdown"><a href="https://github.com/shidahuilang/shuyuan">è®¢é˜…æºè§„åˆ™</a></li>
            <li class="dropdown"><a href="https://yuedu.xiu2.xyz/" target="_blank">ç²¾å“æºåœ°å€</a></li>
        </ul>
    </div>

    <div id="content">
        <h2 id="legado">Legadoä¹¦æºè§„åˆ™è¯´æ˜</h2>
        <p>æ›´æ–°æ—¶é—´ï¼š2020-03-06</p>
        <h3 id="">æ¦‚å†µ</h3>
        <ul>
            <li>1ã€è¯­æ³•è¯´æ˜</li>
            <li>2ã€Legadoçš„ç‰¹æ®Šè§„åˆ™</li>
            <li>3ã€ä¹¦æºä¹‹ã€ŒåŸºæœ¬ã€</li>
            <li>4ã€ä¹¦æºä¹‹ã€Œæœç´¢ã€</li>
            <li>5ã€ä¹¦æºä¹‹ã€Œå‘ç°ã€</li>
            <li>6ã€ä¹¦æºä¹‹ã€Œè¯¦æƒ…é¡µã€</li>
            <li>7ã€ä¹¦æºä¹‹ã€Œç›®å½•ã€</li>
            <li>8ã€ä¹¦æºä¹‹ã€Œæ­£æ–‡ã€</li>
            <li>9ã€è¡¥å……è¯´æ˜</li>
        </ul>
        <hr>
        <h3 id="1">1ã€è¯­æ³•è¯´æ˜</h3>
        <ul>
            <li>
                <p>JSOUPä¹‹Default</p>
                <ul>
                    <li>è¯­æ³•å¦‚ä¸‹ï¼š</li>
                </ul>
                <pre><code> @ä¸ºåˆ†éš”ç¬¦,ç”¨æ¥åˆ†éš”è·å–è§„åˆ™
 æ¯æ®µè§„åˆ™å¯åˆ†ä¸º3æ®µ
 ç¬¬ä¸€æ®µæ˜¯ç±»å‹,å¦‚class,id,tag,text,childrenç­‰, childrenè·å–æ‰€æœ‰å­æ ‡ç­¾,ä¸éœ€è¦ç¬¬äºŒæ®µå’Œç¬¬ä¸‰æ®µ,textå¯ä»¥æ ¹æ®æ–‡æœ¬å†…å®¹è·å–
 ç¬¬äºŒæ®µæ˜¯åç§°,text. ç¬¬äºŒæ®µä¸ºæ–‡æœ¬å†…å®¹çš„ä¸€éƒ¨åˆ†
 ç¬¬ä¸‰æ®µæ˜¯ä½ç½®,class,tag,idç­‰ä¼šè·å–åˆ°å¤šä¸ª,æ‰€ä»¥è¦åŠ ä½ç½®
 å¦‚ä¸åŠ ä½ç½®ä¼šè·å–æ‰€æœ‰
 ä½ç½®æ­£ç€æ•°ä»0å¼€å§‹,0æ˜¯ç¬¬ä¸€ä¸ª,å¦‚ä¸ºè´Ÿæ•°åˆ™æ˜¯å–å€’ç€æ•°çš„å€¼,-1ä¸ºå€’æ•°ç¬¬ä¸€ä¸ª,-2ä¸ºå€’æ•°ç¬¬äºŒä¸ª
 !æ˜¯æ’é™¤,æœ‰äº›ä½ç½®ä¸ç¬¦åˆéœ€è¦æ’é™¤ç”¨!,åé¢çš„åºå·ç”¨:éš”å¼€0æ˜¯ç¬¬1ä¸ª,è´Ÿæ•°ä¸ºå€’æ•°åºå·,-1æœ€åä¸€ä¸ª,-2å€’æ•°ç¬¬2ä¸ª,ä¾æ¬¡
 è·å–åˆ—è¡¨çš„æœ€å‰é¢åŠ ä¸Šè´Ÿå·- å¯ä»¥ä½¿åˆ—è¡¨å€’ç½®,æœ‰äº›ç½‘ç«™ç›®å½•åˆ—è¡¨æ˜¯å€’çš„,å‰é¢åŠ ä¸ªè´Ÿå·å¯å˜ä¸ºæ­£çš„
 @çš„æœ€åä¸€æ®µä¸ºè·å–å†…å®¹,å¦‚text,textNodes,ownText,href,src,html,allç­‰
 å¦‚éœ€è¦æ­£åˆ™æ›¿æ¢åœ¨æœ€ååŠ ä¸Š ##æ­£åˆ™è¡¨è¾¾å¼##æ›¿æ¢å†…å®¹ï¼Œæ›¿æ¢å†…å®¹ä¸ºç©ºæ—¶ï¼Œç¬¬äºŒä¸ª##å¯ä»¥çœç•¥
 ä¾‹:class.odd.0@tag.a.0@text||tag.dd.0@tag.h1@text##å…¨æ–‡é˜…è¯»
 ä¾‹:class.odd.0@tag.a.0@text&amp;&amp;tag.dd.0@tag.h1@text##å…¨æ–‡é˜…è¯»
</code></pre>
                <ul>
                    <li>æ ‡å‡†è§„èŒƒä¸å®ç°åº“ Package org.jsoup.select, CSS-like element selector</li>
                </ul>
            </li>
            <li>
                <p>JSOUPä¹‹CSS</p>
                <ul>
                    <li>è¯­æ³•è§http://www.open-open.com/jsoup/selector-syntax.htm</li>
                    <li>å¿…é¡»ä»¥ <code>@css:</code> å¼€å¤´</li>
                    <li>æ ‡å‡†è§„èŒƒä¸å®ç°åº“ Package org.jsoup.select, CSS-like element selector <a href="https://coindataflow.com/de/aktie/AMGDF"><img src="./img/cdf.svg" alt="coindataflow.com" width="15px"></a></li>
                    <li>åœ¨çº¿æµ‹è¯• Try jsoup online: Java HTML parser and CSS debugger</li>
                </ul>
            </li>
            <li>
                <p>æ³¨æ„ï¼šè·å–å†…å®¹å¯ç”¨text,textNodes,ownText,html,all,href,srcç­‰</p>
            </li>
            <li>
                <p>ä¾‹å­è§æœ€åçš„ã€ä¹¦æºä¸€ã€‘çš„æœç´¢é¡µå’Œæ­£æ–‡é¡µè§„åˆ™</p>
            </li>
            <li>
                <p>JSONPath </p>
                <ul>
                    <li>è¯­æ³•è§ JsonPathæ•™ç¨‹</li>
                    <li>æœ€å¥½ä»¥ <code>@json:</code> æˆ– <code>$.</code> å¼€å¤´ï¼Œå…¶ä»–å½¢å¼ä¸å¯é </li>
                    <li>æ ‡å‡†è§„èŒƒ goessner JSONPath - XPath for JSON</li>
                    <li>å®ç°åº“ json-path/JsonPath</li>
                    <li>åœ¨çº¿æµ‹è¯• Jayway JsonPath Evaluator</li>
                </ul>
            </li>
            <li>
                <p>ä¾‹å­è§æœ€åçš„ã€ä¹¦æºä¸‰ã€‘çš„æœç´¢é¡µã€ç›®å½•é¡µå’Œæ­£æ–‡é¡µè§„åˆ™</p>
            </li>
            <li>
                <p>XPath</p>
                <ul>
                    <li>è¯­æ³•è§ XPathæ•™ç¨‹ã€XPathåº“çš„è¯´æ˜</li>
                    <li>å¿…é¡»ä»¥ <code>@XPath:</code> æˆ– <code>//</code> å¼€å¤´</li>
                    <li>æ ‡å‡†è§„èŒƒ W3C XPATH 1.0 </li>
                    <li>å®ç°åº“ hegexiaohuozi/JsoupXpath</li>
                </ul>
            </li>
            <li>
                <p>ä¾‹å­è§æœ€åçš„ã€ä¹¦æºäºŒã€‘çš„æœç´¢é¡µã€è¯¦æƒ…é¡µå’Œæ­£æ–‡é¡µè§„åˆ™ï¼Œä»¥åŠç›®å½•é¡µçš„ä¸‹ä¸€é¡µè§„åˆ™</p>
            </li>
            <li>
                <p>JavaScript</p>
                <ul>
                    <li>å¯ä»¥åœ¨ <code><js></js></code>ã€<code>@js:</code>ä¸­ä½¿ç”¨ï¼Œç»“æœå­˜åœ¨resultä¸­</li>
                    <li><code>@js:</code>åªèƒ½æ”¾åœ¨å…¶ä»–è§„åˆ™çš„æœ€åä½¿ç”¨</li>
                    <li><code><js></js></code>å¯ä»¥åœ¨ä»»æ„ä½ç½®ä½¿ç”¨ï¼Œè¿˜èƒ½ä½œä¸ºå…¶ä»–è§„åˆ™çš„åˆ†éš”ç¬¦ï¼Œä¾‹ï¼š<code>tag.li<js></js>//a</code></li>
                    <li>åœ¨æœç´¢åˆ—è¡¨ã€å‘ç°åˆ—è¡¨å’Œç›®å½•ä¸­ä½¿ç”¨å¯ä»¥ç”¨<code>+</code>å¼€å¤´ï¼Œä½¿ç”¨AllInOneè§„åˆ™</li>
                </ul>
            </li>
            <li>
                <p>æ­£åˆ™ä¹‹AllInOne</p>
                <ul>
                    <li>
                        <p>åªèƒ½åœ¨æœç´¢åˆ—è¡¨ã€å‘ç°åˆ—è¡¨ã€è¯¦æƒ…é¡µé¢„åŠ è½½å’Œç›®å½•åˆ—è¡¨ä¸­ä½¿ç”¨</p>
                    </li>
                    <li>
                        <p>å¿…é¡»ä»¥ <code>:</code> å¼€å¤´</p>
                    </li>
                    <li>
                        <p>æ•™ç¨‹ veedrin/horseshoe 2018-10 | Regexä¸“é¢˜</p>
                        <p>è¯­æ³• æ–¹æ³• å¼•æ“</p>
                    </li>
                    <li>
                        <p>ä¾‹å­è§æœ€åçš„ã€ä¹¦æºä¸€ã€‘çš„ç›®å½•é¡µè§„åˆ™ï¼Œæœ€å‰é¢çš„<code>-</code>è¡¨ç¤ºç›®å½•å€’åºï¼Œä»¥åŠã€ä¹¦æºäºŒã€‘çš„ç›®å½•é¡µè§„åˆ™</p>
                    </li>
                </ul>
            </li>
            <li>
                <p>æ­£åˆ™ä¹‹OnlyOne</p>
                <ul>
                    <li>å½¢å¼ <code>##æ­£åˆ™è¡¨è¾¾å¼##æ›¿æ¢å†…å®¹###</code></li>
                    <li>åªèƒ½åœ¨æœç´¢åˆ—è¡¨ã€å‘ç°åˆ—è¡¨ã€è¯¦æƒ…é¡µé¢„åŠ è½½ã€ç›®å½•åˆ—è¡¨ä¹‹å¤–ä½¿ç”¨</li>
                    <li>ä¾‹å­è§æœ€åçš„ã€ä¹¦æºä¸€ã€‘çš„è¯¦æƒ…é¡µè§„åˆ™</li>
                </ul>
            </li>
            <li>
                <p>æ³¨æ„ç‚¹ï¼šè¯¥è§„åˆ™åªèƒ½è·å–ç¬¬ä¸€ä¸ªåŒ¹é…åˆ°çš„ç»“æœå¹¶è¿›è¡Œæ›¿æ¢</p>
            </li>
            <li>
                <p>æ­£åˆ™ä¹‹å‡€åŒ–</p>
                <ul>
                    <li>å½¢å¼ <code>##æ­£åˆ™è¡¨è¾¾å¼##æ›¿æ¢å†…å®¹</code></li>
                    <li>åªèƒ½è·Ÿåœ¨å…¶ä»–è§„åˆ™åé¢ï¼Œç‹¬ç«‹ä½¿ç”¨ç›¸å½“äº<code>all##æ­£åˆ™è¡¨è¾¾å¼##æ›¿æ¢å†…å®¹</code></li>
                    <li>ä¾‹å­è§æœ€åçš„ã€ä¹¦æºä¸€ã€‘çš„æ­£æ–‡é¡µè§„åˆ™</li>
                </ul>
            </li>
            <li>
                <p>æ³¨æ„ç‚¹ï¼šè¯¥è§„åˆ™ä¸ºå¾ªç¯åŒ¹é…æ›¿æ¢</p>
            </li>
            <li>
                <p>è‡ªå®šä¹‰ä¸‰ç§è¿æ¥ç¬¦å·</p>
                <ul>
                    <li>
                        <p>ç¬¦å·ï¼š<code>&amp;&amp;</code>ã€<code>||</code>ã€<code>%%</code></p>
                    </li>
                    <li>
                        <p>åªèƒ½åœ¨åŒç§è§„åˆ™é—´ä½¿ç”¨ï¼Œä¸åŒ…æ‹¬jså’Œæ­£åˆ™</p>
                    </li>
                    <li>
                        <p><code>&amp;&amp;</code>ä¼šåˆå¹¶æ‰€æœ‰å–åˆ°çš„å€¼,</p>
                    </li>
                    <li>
                        <p><code>||</code>ä¼šä»¥ç¬¬ä¸€ä¸ªå–åˆ°å€¼çš„ä¸ºå‡†</p>
                    </li>
                    <li>
                        <p><code>%%</code>ä¼šä¾æ¬¡å–æ•°ï¼Œå¦‚ä¸‰ä¸ªåˆ—è¡¨ï¼Œ</p>
                        <p>å…ˆå–åˆ—è¡¨1çš„ç¬¬ä¸€ä¸ªï¼Œå†å–åˆ—è¡¨2çš„ç¬¬ä¸€ä¸ªï¼Œå†å–åˆ—è¡¨3çš„ç¬¬ä¸€ä¸ªï¼Œ</p>
                        <p>å†å–åˆ—è¡¨1çš„ç¬¬äºŒä¸ªï¼Œå†å–åˆ—è¡¨2çš„ç¬¬äºŒä¸ªâ€¦</p>
                    </li>
                </ul>
            </li>
        </ul>
        <h3 id="2legado">2ã€Legadoçš„ç‰¹æ®Šè§„åˆ™</h3>
        <ul>
            <li>
                <p>URLå¿…çŸ¥å¿…ä¼š</p>
                <ol>
                    <li>è¯·æ±‚å¤´</li>
                </ol>
                <ul>
                    <li>
                        <p>ä¸€èˆ¬å½¢å¼ï¼Œå¦‚ä¸‹æ‰€ç¤º</p>
                        <pre><code> {
     "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36",
     "Accept-Language":"zh-CN,zh;q=0.9"
 }
</code></pre>
                    </li>

                    <li>
                        <p>å¤æ‚æƒ…å†µå¯ä½¿ç”¨js</p>
                        <pre><code> <js>
 (()=>{
     var ua = "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36";
     var headers = {"User-Agent": ua};
     return JSON.stringify(headers);
 })()
 </js>
</code></pre>
                        <p>â€»å…¶ä¸­ï¼Œ<code>ua</code>å¿…é¡»ä¿è¯æ˜¯<code>JavaScript</code>çš„<code>String</code>ç±»å‹ï¼Œ<code>JSON.stringify()</code>æ‰èƒ½å°†<code>header</code>è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚</p>
                    </li>
                </ul>
                <ol>
                    <li>GETè¯·æ±‚</li>
                </ol>
                <ul>
                    <li>
                        <p>ä¸€èˆ¬å½¢å¼å¦‚ä¸‹ï¼Œcharsetä¸ºutf-8æ—¶å¯çœç•¥ï¼Œæ— ç‰¹æ®Šæƒ…å†µä¸éœ€è¦è¯·æ±‚å¤´å’ŒwebViewï¼Œå‚æ•°webViewéç©ºæ—¶é‡‡ç”¨webViewåŠ è½½</p>
                        <pre><code> https://www.baidu.com,{
     "charset": "gbk",
     "headers": "{\"User-Agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36\"}",
     "webView": true
 }
</code></pre>
                    </li>
                    <li>
                        <p>å¤æ‚æƒ…å†µå¯ä½¿ç”¨js</p>
                        <pre><code> <js>
     var ua = "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36";
     var headers = {"User-Agent": ua};
     var option = {
         "charset": "gbk",
         "headers": JSON.stringify(headers),
         "webView": true
     };
     "https://www.baidu.com," + JSON.stringify(option)
 </js>
</code></pre>
                        <p>â€»å…¶ä¸­ï¼Œ<code>ua</code>å¿…é¡»ä¿è¯æ˜¯<code>JavaScript</code>çš„<code>String</code>ç±»å‹ï¼Œ<code>JSON.stringify()</code>æ‰èƒ½å°†<code>header</code>è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚</p>
                    </li>
                </ul>
                <ol>
                    <li>POSTè¯·æ±‚</li>
                </ol>
                <ul>
                    <li>
                        <p>ä¸€èˆ¬å½¢å¼å¦‚ä¸‹ï¼Œbodyæ˜¯è¯·æ±‚ä½“ï¼Œcharsetä¸ºutf-8æ—¶å¯çœç•¥ï¼Œæ— ç‰¹æ®Šæƒ…å†µä¸éœ€è¦è¯·æ±‚å¤´å’ŒwebViewï¼Œå‚æ•°webViewéç©ºæ—¶é‡‡ç”¨webViewåŠ è½½</p>
                        <pre><code> https://www.baidu.com,{
     "charset": "gbk",
     "method": "POST",
     "body": "bid=10086",
     "headers": "{\"User-Agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36\"}",
     "webView": true
 }
</code></pre>
                    </li>
                    <li>
                        <p>å¤æ‚æƒ…å†µå¯ä½¿ç”¨js</p>
                        <pre><code> <js>
     var ua = "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36";
     var headers = {"User-Agent": ua};
     var body = "bid="+"10086";
     var option = {
         "charset": "gbk",
         "method": "POST",
         "body": String(body),
         "headers": JSON.stringify(headers),
         "webView": true
     };
     "https://www.baidu.com," + JSON.stringify(option)
    </js>
</code></pre>
                        <p>â€»å…¶ä¸­ï¼Œ<code>ua</code>å’Œ<code>body</code>å¿…é¡»ä¿è¯æ˜¯<code>JavaScript</code>çš„<code>String</code>ç±»å‹ï¼Œ<code>JSON.stringify()</code>æ‰èƒ½è½¬æ¢å­—ç¬¦ä¸²æˆåŠŸã€‚å˜é‡æ˜¯è®¡ç®—å¾—åˆ°çš„å°½é‡éƒ½ç”¨<code>String()</code>å¼ºè½¬ä¸€ä¸‹ç±»å‹ã€‚</p>
                    </li>
                </ul>
            </li>

            <li>
                <p>å˜é‡çš„putä¸get</p>
                <ul>
                    <li>
                        <p><code>@put</code>ä¸<code>@get</code></p>
                        <p>åªèƒ½ç”¨äºjsä»¥å¤–çš„è§„åˆ™ä¸­ï¼Œ@puté‡Œä½¿ç”¨JSONPathä¸éœ€è¦åŠ å¼•å·ï¼Œå…¶ä»–è§„åˆ™éœ€è¦åŠ å¼•å·ï¼Œ</p>
                        <p>ä¾‹ï¼š@put:{bid:"//*[@bid-data]/@bid-data"}</p>
                    </li>
                    <li>
                        <p><code>java.put</code>ä¸<code>java.get</code></p>
                        <p>åªèƒ½ç”¨äºjsä¸­ï¼Œåœ¨jsä¸­æ— æ³•ä½¿ç”¨@get</p>
                    </li>
                </ul>
            </li>
            <li>
                <p><code>{{}}</code>ä¸<code>{}</code>è§„åˆ™</p>
                <ul>
                    <li>
                        <p>åœ¨æœç´¢URLä¸å‘ç°URLä¸­çš„<code>{{}}</code></p>
                        <p>åœ¨{{}}é‡Œåªèƒ½ä½¿ç”¨js</p>
                    </li>
                    <li>
                        <p>åœ¨æœç´¢URLä¸å‘ç°URLä»¥å¤–çš„<code>{{}}</code></p>
                        <p>å¯åœ¨<code>{{}}</code>ä¸­ä½¿ç”¨ä»»æ„è§„åˆ™ï¼ˆæ­£åˆ™é™¤å¤–ï¼Ÿï¼‰ï¼Œé»˜è®¤ä¸ºjsï¼Œä½¿ç”¨å…¶ä»–è§„åˆ™éœ€è¦æœ‰æ˜æ˜¾çš„æ ‡å¿—å¤´ï¼Œ</p>
                        <p>å¦‚ï¼šDefaultè§„åˆ™éœ€è¦ä»¥<code>@@</code>å¼€å¤´ï¼ŒXPathéœ€è¦ä»¥<code>@xpath:</code>æˆ–<code>//</code>å¼€å¤´ï¼ŒJSONPathéœ€è¦ä»¥<code>@json:</code>æˆ–<code>$.</code>å¼€å¤´ï¼ŒCSSéœ€è¦ä»¥<code>@css:</code>å¼€å¤´</p>
                    </li>
                    <li>
                        <p><code>{}</code>è§„åˆ™</p>
                        <p>ç•™ç”¨äº†é˜…è¯»2.0çš„è§„åˆ™ï¼Œåªèƒ½ä½¿ç”¨JSONPathï¼Œå°½é‡é¿å…ä½¿ç”¨</p>
                    </li>
                </ul>
            </li>
            <li>
                <p>è‡ªå®šä¹‰jsæ–¹æ³•</p>
                <pre><code>//å½“å‰é¡µçš„responseBody
result

//å½“å‰é¡µçš„URL
baseUrl

//è¾“å…¥urlStrè·å–ç½‘é¡µå†…å®¹ï¼Œè¿”å›ç±»å‹String?
java.ajax(urlStr: String)

//æ ¼å¼åŒ–æ—¶é—´æˆ³ï¼Œè¿”å›ç±»å‹String
java.timeFormat(timestamp: Long)

//base64è§£ç ï¼Œè¿”å›ç±»å‹String
java.base64Decode(str: String)
//java.base64Decode(str: String, flags: Int)    //æœªå¯ç”¨

//base64ç¼–ç ï¼Œè¿”å›ç±»å‹String?
java.base64Encode(str: String)
java.base64Encode(str: String, flags: Int)

//md5ç¼–ç ï¼Œè¿”å›ç±»å‹String?
java.md5Encode(str: String)
java.md5Encode16(str: String)

/**************ä»¥ä¸‹éƒ¨åˆ†æ–¹æ³•ç”±äºJAVAä¸æ”¯æŒå‚æ•°é»˜è®¤å€¼ï¼Œè°ƒç”¨æ—¶ä¸èƒ½çœç•¥***************/
//è®¾ç½®éœ€è§£æçš„å†…å®¹contentå’ŒbaseUrlï¼Œè¿”å›ç±»å‹AnalyzeRule
java.setContent(content: Any?, baseUrl: String? = this.baseUrl)

//è¾“å…¥è§„åˆ™ruleå’ŒURLæ ‡å¿—isUrlè·å–æ–‡æœ¬åˆ—è¡¨ï¼Œè¿”å›ç±»å‹List<String>?
java.getStringList(rule: String, isUrl: Boolean = false)

//è¾“å…¥è§„åˆ™ruleå’ŒURLæ ‡å¿—isUrlè·å–æ–‡æœ¬ï¼Œè¿”å›ç±»å‹String
java.getString(ruleStr: String?, isUrl: Boolean = false)

//è¾“å…¥è§„åˆ™ruleStrè·å–èŠ‚ç‚¹åˆ—è¡¨ï¼Œè¿”å›ç±»å‹List<Any>
java.getElements(ruleStr: String)
</code></pre>
            </li>
        </ul>
        <h3 id="3">3ã€ä¹¦æºä¹‹ã€ŒåŸºæœ¬ã€</h3>
        <ul>
            <li>
                <p>ä¹¦æºURL(bookSourceUrl)</p>
                <ul>
                    <li>å¿…å¡«</li>
                    <li>å”¯ä¸€æ ‡è¯†ï¼Œä¸å¯é‡å¤</li>
                    <li>ä¸å…¶ä»–æºç›¸åŒä¼šè¦†ç›–</li>
                </ul>
            </li>
            <li>
                <p>ä¹¦æºåç§°(bookSourceName)</p>
                <ul>
                    <li>å¿…å¡«</li>
                    <li>åå­—å¯é‡å¤</li>
                </ul>
            </li>
            <li>
                <p>ä¹¦æºåˆ†ç»„(bookSourceGroup)</p>
            </li>
            <li>
                <p>å¯ä¸å¡«</p>
            </li>
            <li>
                <p>ç”¨äºæ•´ç†æº</p>
            </li>
            <li>
                <p>ç™»å½•URL(loginUrl)</p>
                <ul>
                    <li>
                        <p>å¯ä¸å¡«</p>
                    </li>
                    <li>
                        <p>ç”¨äºç™»å½•ä¸ªäººè´¦æˆ·</p>
                    </li>
                </ul>
            </li>
            <li>
                <p>ä¹¦ç±URLæ­£åˆ™(bookUrlPattern)</p>
                <ul>
                    <li>
                        <p>å¯ä¸å¡«</p>
                    </li>
                    <li>
                        <p>æ·»åŠ ç½‘å€æ—¶ï¼Œç”¨äºè¯†åˆ«ä¹¦æº</p>
                    </li>
                    <li>
                        <p><code>
ä¾‹:https?://www.piaotian.com/bookinfo/.*
</code></p>
                    </li>
                </ul>
            </li>
            <li>
                <p>è¯·æ±‚å¤´(header)</p>
                <ul>
                    <li>å¯ä¸å¡«</li>
                    <li>è®¿é—®ç½‘å€æ—¶ä½¿ç”¨</li>
                </ul>
            </li>
        </ul>
        <h3 id="4">4ã€ä¹¦æºä¹‹ã€Œæœç´¢ã€</h3>
        <ul>
            <li>
                <p>æœç´¢åœ°å€(url)</p>
                <ul>
                    <li>
                        <p><code>key</code>ä¸ºå…³é”®å­—æ ‡è¯†ï¼Œé€šå¸¸å½¢æ€ä¸º<code>{{key}}</code>ï¼Œè¿è¡Œæ—¶ä¼šæ›¿æ¢ä¸ºæœç´¢å…³é”®å­—</p>
                        <p>ä¹Ÿå¯ä»¥å¯¹keyè¿›è¡ŒåŠ å¯†ç­‰æ“ä½œï¼Œå¦‚ï¼š<code>{{java.base64Encode(key)}}</code></p>
                    </li>
                    <li>
                        <p><code>page</code>ä¸ºå…³é”®å­—æ ‡è¯†ï¼Œé€šå¸¸å½¢æ€ä¸º<code>{{page}}</code>ï¼Œpageçš„åˆå€¼ä¸º1ä¹Ÿå¯ä»¥å¯¹pageè¿›è¡Œè®¡ç®—ï¼Œ</p>
                        <p>å¦‚ï¼š<code>{{(page-1)*20}}</code>ï¼Œæœ‰æ—¶ä¼šé‡åˆ°ç¬¬ä¸€é¡µæ²¡æœ‰é¡µæ•°çš„æƒ…å†µï¼Œæœ‰ä¸¤ç§æ–¹æ³•ï¼š</p>
                        <p>â‘  <code>{{page - 1 == 0 ? "": page}}</code> </p>
                        <p>â‘¡ <code><,{{page}}></code></p>
                    </li>
                    <li>
                        <p>æ”¯æŒç›¸å¯¹URL</p>
                    </li>
                </ul>
            </li>
            <li>
                <p>ä¹¦ç±åˆ—è¡¨è§„åˆ™(bookList)</p>
            </li>
            <li>
                <p>ä¹¦åè§„åˆ™(name)</p>
            </li>
            <li>
                <p>ä½œè€…è§„åˆ™(author)</p>
            </li>
            <li>
                <p>åˆ†ç±»è§„åˆ™(kind)</p>
            </li>
            <li>
                <p>å­—æ•°è§„åˆ™(wordCount)</p>
            </li>
            <li>
                <p>æœ€æ–°ç« èŠ‚è§„åˆ™(lastChapter)</p>
            </li>
            <li>
                <p>ç®€ä»‹è§„åˆ™(intro)</p>
            </li>
            <li>
                <p>å°é¢è§„åˆ™(coverUrl)</p>
            </li>
            <li>
                <p>è¯¦æƒ…é¡µurlè§„åˆ™(bookUrl)</p>
            </li>
        </ul>
        <h3 id="5">5ã€ä¹¦æºä¹‹ã€Œå‘ç°ã€</h3>
        <ul>
            <li>
                <p>å‘ç°åœ°å€è§„åˆ™(url)</p>
                <ul>
                    <li>
                        <p><code>page</code>ä¸ºå…³é”®å­—æ ‡è¯†ï¼Œé€šå¸¸å½¢æ€ä¸º<code>{{page}}</code>ï¼Œpageçš„åˆå€¼ä¸º1ï¼Œä¹Ÿå¯ä»¥å¯¹pageè¿›è¡Œè®¡ç®—ï¼Œ</p>
                        <p>å¦‚ï¼š<code>{{(page-1)*20}}</code>ï¼Œæœ‰æ—¶ä¼šé‡åˆ°ç¬¬ä¸€é¡µæ²¡æœ‰é¡µæ•°çš„æƒ…å†µï¼Œæœ‰ä¸¤ç§æ–¹æ³•ï¼š</p>
                        <p>â‘  <code>{{page - 1 == 0 ? "": page}}</code> </p>
                        <p>â‘¡ <code><,{{page}}></code></p>
                    </li>
                    <li>
                        <p>å‘ç°URLå¯ä½¿ç”¨<code>&amp;&amp;</code>æˆ–æ¢è¡Œç¬¦éš”å¼€</p>
                    </li>
                    <li>
                        <p>æ”¯æŒç›¸å¯¹URL</p>
                    </li>
                </ul>
            </li>
            <li>
                <p>ä¹¦ç±åˆ—è¡¨è§„åˆ™(bookList)</p>
            </li>
            <li>
                <p>ä¹¦åè§„åˆ™(name)</p>
            </li>
            <li>
                <p>ä½œè€…è§„åˆ™(author)</p>
            </li>
            <li>
                <p>åˆ†ç±»è§„åˆ™(kind)</p>
            </li>
            <li>
                <p>å­—æ•°è§„åˆ™(wordCount)</p>
            </li>
            <li>
                <p>æœ€æ–°ç« èŠ‚è§„åˆ™(lastChapter)</p>
            </li>
            <li>
                <p>ç®€ä»‹è§„åˆ™(intro)</p>
            </li>
            <li>
                <p>å°é¢è§„åˆ™(coverUrl)</p>
            </li>
            <li>
                <p>è¯¦æƒ…é¡µurlè§„åˆ™(bookUrl)</p>
            </li>
        </ul>
        <h3 id="6">6ã€ä¹¦æºä¹‹ã€Œè¯¦æƒ…ã€</h3>
        <ul>
            <li>
                <p>é¢„å¤„ç†è§„åˆ™(bookInfoInit)</p>
                <ul>
                    <li>
                        <p>åªèƒ½ä½¿ç”¨æ­£åˆ™ä¹‹AllInOneæˆ–è€…js</p>
                    </li>
                    <li>
                        <p>æ­£åˆ™ä¹‹AllInOneå¿…é¡»ä»¥<code>:</code>å¼€å¤´</p>
                    </li>
                    <li>
                        <p>jsçš„è¿”å›å€¼éœ€è¦æ˜¯jsonå¯¹è±¡ï¼Œä¾‹ï¼š</p>
                    </li>
                </ul>
                <pre><code>  <js>
  (function(){
      return {
          a:"åœ£å¢Ÿ",
          b:"è¾°ä¸œ",
          c:"ç„å¹»",
          d:"200ä¸‡å­—",
          e:"ç¬¬ä¸¤åƒç«  è¾°ä¸œè‚¾è™š",
          f:"åœ¨ç ´è´¥ä¸­å´›èµ·ï¼Œåœ¨å¯‚ç­ä¸­å¤è‹ã€‚æ²§æµ·æˆå°˜ï¼Œé›·ç”µæ¯ç«­...",
          g:"https://bookcover.yuewen.com/qdbimg/349573/1004608738/300
  ",
          h:"https://m.qidian.com/book/1004608738"
      };
  })()
  </js>
</code></pre>
                <p>æ­¤æ—¶ï¼Œä¹¦åè§„åˆ™å¡«<code>a</code>ï¼Œä½œè€…è§„åˆ™å¡«<code>b</code>ï¼Œåˆ†ç±»è§„åˆ™å¡«<code>c</code>ï¼Œå­—æ•°è§„åˆ™å¡«<code>d</code>ï¼Œæœ€æ–°ç« èŠ‚è§„åˆ™å¡«<code>e</code>ï¼Œç®€ä»‹è§„åˆ™<code>f</code>ï¼Œå°é¢è§„åˆ™å¡«<code>g</code>ï¼Œç›®å½•URLè§„åˆ™å¡«<code>h</code></p>
            </li>
            <li>
                <p>ä¹¦åè§„åˆ™(name)</p>
            </li>
            <li>
                <p>ä½œè€…è§„åˆ™(author)</p>
            </li>
            <li>
                <p>åˆ†ç±»è§„åˆ™(kind)</p>
            </li>
            <li>
                <p>å­—æ•°è§„åˆ™(wordCount)</p>
            </li>
            <li>
                <p>æœ€æ–°ç« èŠ‚è§„åˆ™(lastChapter)</p>
            </li>
            <li>
                <p>ç®€ä»‹è§„åˆ™(intro)</p>
            </li>
            <li>
                <p>å°é¢è§„åˆ™(coverUrl)</p>
            </li>
            <li>
                <p>ç›®å½•URLè§„åˆ™(tocUrl)</p>
            </li>
        </ul>
        <h3 id="7">7ã€ä¹¦æºä¹‹ã€Œç›®å½•ã€</h3>
        <ul>
            <li>
                <p>ç›®å½•åˆ—è¡¨è§„åˆ™(chapterList)</p>
                <ul>
                    <li>é¦–å­—ç¬¦ä½¿ç”¨è´Ÿå·(<code>-</code>)å¯ä½¿åˆ—è¡¨ååº</li>
                </ul>
            </li>
            <li>
                <p>ç« èŠ‚åç§°è§„åˆ™(ruleChapterName)</p>
            </li>
            <li>
                <p>ç« èŠ‚URLè§„åˆ™(chapterUrl)</p>
            </li>
            <li>
                <p>VIPæ ‡è¯†(isVip)</p>
                <ul>
                    <li>å½“ç»“æœä¸º<code>null</code> <code>false</code> <code>0</code> <code>""</code>æ—¶ä¸ºéVIP</li>
                </ul>
            </li>
            <li>
                <p>ç« èŠ‚ä¿¡æ¯(ChapterInfo)</p>
                <ul>
                    <li>å¯è°ƒç”¨java.timeFormat(timestamp: Long)å°†æ—¶é—´æˆ³è½¬ä¸ºyyyy/MM/dd HH:mmæ ¼å¼çš„æ—¶é—´</li>
                </ul>
            </li>
            <li>
                <p>ç›®å½•ä¸‹ä¸€é¡µè§„åˆ™(nextTocUrl) </p>
                <ul>
                    <li>å¯è¿”å›listæˆ–è€…string</li>
                    <li>jsä¸­è¿”å› <code>[]</code>æˆ– <code>null</code>æˆ– <code>""</code>æ—¶åœæ­¢åŠ è½½ä¸‹ä¸€é¡µ</li>
                </ul>
            </li>
        </ul>
        <h3 id="8">8ã€ä¹¦æºä¹‹ã€Œæ­£æ–‡ã€</h3>
        <ul>
            <li>
                <p>æ­£æ–‡è§„åˆ™(content)</p>
                <ul>
                    <li>å¦‚ä¸‹ç¤ºä¾‹ï¼Œåœ¨è¯¦æƒ…é¡µ(ç›®å½•é¡µ)å’Œæ­£æ–‡ä½¿ç”¨webViewåŠ è½½ï¼Œä¾‹ï¼š</li>
                </ul>
                <pre><code>  {
    "bookSourceName": "çŒ«è€³FM",
    "bookSourceType": 1,
    "bookSourceUrl": "https://www.missevan.com",
    "customOrder": 0,
    "enabled": false,
    "enabledExplore": false,
    "lastUpdateTime": 0,
    "ruleBookInfo": "{}",
    "ruleContent": "{\n  \"content\": \"https://static.missevan.com/{{//*[contains(@class,\\\"pld-sound-active\\\")]/@data-soundurl64}}\",\n  \"sourceRegex\": \"\",\n  \"webJs\": \"\"\n}",
    "ruleExplore": "{}",
    "ruleSearch": "{\n  \"author\": \"author\",\n  \"bookList\": \"$.info.Datas\",\n  \"bookUrl\": \"https://www.missevan.com/mdrama/drama/{{$.id}},{\\\"webView\\\":true}\",\n  \"coverUrl\": \"cover \",\n  \"intro\": \"abstract\",\n  \"kind\": \"{{$.type_name}},{{$.catalog_name}}\",\n  \"lastChapter\": \"newest \",\n  \"name\": \"name\",\n  \"wordCount\": \"catalog_name \"\n}",
    "ruleToc": "{\n  \"chapterList\": \"@css:.scroll-list.btn-groups>a\",\n  \"chapterName\": \"text\",\n  \"chapterUrl\": \"href##$##,{\\\"webView\\\":true}\"\n}",
    "searchUrl": "https://www.missevan.com/dramaapi/search?s={{key}}&amp;page=1",
    "weight": 0
  }
</code></pre>
            </li>

            <li>
                <p>æ­£æ–‡ä¸‹ä¸€é¡µURLè§„åˆ™(nextContentUrl)</p>
            </li>
            <li>
                <p>webJs</p>
                <ul>
                    <li>ç”¨äºæ¨¡æ‹Ÿé¼ æ ‡ç‚¹å‡»</li>
                </ul>
            </li>
            <li>
                <p>èµ„æºæ­£åˆ™(sourceRegex)</p>
                <ul>
                    <li>
                        <p>ç”¨äºå—…æ¢</p>
                    </li>
                    <li>
                        <p>ä¸€èˆ¬æƒ…å†µä¸‹çš„æ— è„‘æ•™ç¨‹å¦‚ä¸‹ï¼¿Ï†( Â°-Â°)/ </p>
                    </li>
                    <li>
                        <p>ç« èŠ‚é“¾æ¥åé¢åŠ  <code>,{"webView":true}</code>Ù©(à¹‘â›á´—â›à¹‘)Û¶ï¼Œä¸è¦æ´’æ•·æ•·çš„å†™æˆ <code>tag.a@href,{"webView":true}</code>æˆ–<code>$.link,{"webView":true}</code></p>
                    </li>
                    <li>
                        <p>åœ¨æœ‰å—…æ¢åŠŸèƒ½çš„æµè§ˆå™¨ï¼ˆå¦‚ï¼šviaã€xæµè§ˆå™¨ç­‰ï¼‰ä¸­ï¼Œè¾“å…¥ç« èŠ‚é“¾æ¥ã€‚æ³¨æ„(ï½¡â€¢Ìï¸¿â€¢Ì€ï½¡) <code>åƒä¸‡åˆ«å¸¦,{"webView":true}</code> (â•¯ï¹â•°)b</p>
                    </li>
                    <li>
                        <p>åª’ä½“å¼€å§‹æ’­æ”¾åä½¿ç”¨æµè§ˆå™¨çš„å—…æ¢åŠŸèƒ½ï¼ŒæŸ¥çœ‹èµ„æºçš„é“¾æ¥</p>
                    </li>
                    <li>
                        <p>åœ¨èµ„æºæ­£åˆ™é‡Œå¡«å†™èµ„æºé“¾æ¥çš„æ­£åˆ™ï¼Œä¸€èˆ¬å†™<code>.*\.(mp3|mp4).*</code>è¿™ä¸ªå°±å¯ä»¥äº†</p>
                    </li>
                    <li>
                        <p>æœ€ååœ¨æ­£æ–‡å¡«å†™ <code><js>result</js></code>ãƒ¾(@^â–½^@)ãƒ</p>
                    </li>
                    <li>
                        <p>å¦‚ä¸‹ç¤ºä¾‹ï¼Œåœ¨æ­£æ–‡å—…æ¢mp3å’Œmp4çš„èµ„æºï¼š</p>
                    </li>
                </ul>
                <pre><code>  {
    "bookSourceName": "çŒ«è€³FM",
    "bookSourceType": 1,
    "bookSourceUrl": "https://www.missevan.com",
    "customOrder": 0,
    "enabled": false,
    "enabledExplore": false,
    "lastUpdateTime": 0,
    "ruleBookInfo": "{}",
    "ruleContent": "{\n  \"content\": \"<js>result</js>\",\n  \"sourceRegex\": \".*\\\\.(mp3|mp4)\",\n  \"webJs\": \"\"\n}",
    "ruleExplore": "{}",
    "ruleSearch": "{\n  \"author\": \"author\",\n  \"bookList\": \"$.info.Datas\",\n  \"bookUrl\": \"https://www.missevan.com/mdrama/drama/{{$.id}},{\\\"webView\\\":true}\",\n  \"coverUrl\": \"cover \",\n  \"intro\": \"abstract\",\n  \"kind\": \"{{$.type_name}},{{$.catalog_name}}\",\n  \"lastChapter\": \"newest \",\n  \"name\": \"name\",\n  \"wordCount\": \"catalog_name \"\n}",
    "ruleToc": "{\n  \"chapterList\": \"@css:.scroll-list.btn-groups>a\",\n  \"chapterName\": \"text\",\n  \"chapterUrl\": \"href##$##,{\\\"webView\\\":true}\"\n}",
    "searchUrl": "https://www.missevan.com/dramaapi/search?s={{key}}&amp;page=1",
    "weight": 0
  }
</code></pre>
            </li>
        </ul>
        <h3 id="9">9ã€è¡¥å……è¯´æ˜</h3>
        <ul>
            <li>æ˜¾ç¤ºjsçš„æŠ¥é”™ä¿¡æ¯</li>
        </ul>
        <pre><code>  (function(result){
      try{
            // å¤„ç†result
            // ...
            // å½“è¿”å›ç»“æœä¸ºå­—ç¬¦ä¸²æ—¶
            return result;
            // å½“è¿”å›ç»“æœä¸ºåˆ—è¡¨æ—¶
            return list;
      }
      catch(e){
            // å½“è¿”å›ç»“æœä¸ºå­—ç¬¦ä¸²æ—¶
            return ""+e;
            // å½“è¿”å›ç»“æœä¸ºåˆ—è¡¨æ—¶
            return [""+e];  //åˆ—è¡¨å¯¹åº”åç§°å¤„å¡«<js>""+result</js>æŸ¥çœ‹
      }
  })(result);
</code></pre>
        <ul>
            <li>
                <p>è¯·å–„ç”¨è°ƒè¯•åŠŸèƒ½</p>
            </li>
            <li>
                <p>è°ƒè¯•æœç´¢</p>
                <p>è¾“å…¥å…³é”®å­—ï¼Œå¦‚ï¼š<code>ç³»ç»Ÿ</code></p>
            </li>
            <li>
                <p>è°ƒè¯•å‘ç°</p>
                <p>è¾“å…¥å‘ç°URLï¼Œå¦‚ï¼š<code>æœˆç¥¨æ¦œ::https://www.qidian.com/rank/yuepiao?page={{page}}</code></p>
            </li>
            <li>
                <p>è°ƒè¯•è¯¦æƒ…é¡µ</p>
                <p>è¾“å…¥è¯¦æƒ…é¡µURLï¼Œå¦‚ï¼š<code>https://m.qidian.com/book/1015609210</code></p>
            </li>
            <li>
                <p>è°ƒè¯•ç›®å½•é¡µ</p>
                <p>è¾“å…¥ç›®å½•é¡µURLï¼Œå¦‚ï¼š<code>++https://www.zhaishuyuan.com/read/30394</code></p>
            </li>
            <li>
                <p>è°ƒè¯•æ­£æ–‡é¡µ</p>
                <p>è¾“å…¥æ­£æ–‡é¡µURLï¼Œå¦‚ï¼š<code>--https://www.zhaishuyuan.com/chapter/30394/20940996</code></p>
            </li>
            <li>
                <p>æ— è„‘<code>{"webView":true}</code>å¾ˆæ–¹ä¾¿</p>
            </li>
            <li>
                <p>ç‰¹åˆ«æ³¨æ„ç”¨<code>JSON.stringify()</code>æ–¹æ³•æ—¶ï¼Œéœ€è¦ä¿è¯JSONå¯¹è±¡çš„valueéƒ½æ˜¯<code>JavaScript</code>çš„<code>String</code>ç±»å‹(åœ¨é˜…è¯»3.0ä¸­)</p>
            </li>
            <li>
                <p>é™„ï¼š</p>
            </li>
            <li>
                <p>ä¹¦æºä¸€</p>
                <pre><code>{
  "bookSourceGroup": "CSS; æ­£åˆ™",
  "bookSourceName": "ğŸ”¥å°è¯´2016",
  "bookSourceType": 0,
  "bookSourceUrl": "https://www.xiaoshuo2016.com",
  "bookUrlPattern": "",
  "customOrder": 0,
  "enabled": true,
  "enabledExplore": false,
  "exploreUrl": "",
  "lastUpdateTime": 0,
  "loginUrl": "",
  "ruleBookInfo": "{\n  \"author\": \"##:author\\\"[^\\\"]+\\\"([^\\\"]*)##$1###\",\n  \"coverUrl\": \"##og:image\\\"[^\\\"]+\\\"([^\\\"]*)##$1###\",\n  \"intro\": \"##:description\\\"[^\\\"]+\\\"([\\\\w\\\\W]*?)\\\"/##$1###\",\n  \"kind\": \"##:category\\\"[^\\\"]+\\\"([^\\\"]*)##$1###\",\n  \"lastChapter\": \"##_chapter_name\\\"[^\\\"]+\\\"([^\\\"]*)##$1###\",\n  \"name\": \"##:book_name\\\"[^\\\"]+\\\"([^\\\"]*)##$1###\",\n  \"tocUrl\": \"\"\n}",
  "ruleContent": "{\n  \"content\": \"@css:.articleDiv p@textNodes##æœç´¢.*æ‰‹æœºè®¿é—®|ä¸€ç§’è®°ä½.*|.*é˜…è¯»ä¸‹è½½|<!\\\\[CDATA\\\\[|\\\\]\\\\]>\",\n  \"nextContentUrl\": \"\"\n}",
  "ruleExplore": "{}",
  "ruleSearch": "{\n  \"author\": \"@css:p:eq(2)>a@text\",\n  \"bookList\": \"@css:li.clearfix\",\n  \"bookUrl\": \"@css:.name>a@href\",\n  \"coverUrl\": \"@css:img@src\",\n  \"intro\": \"@css:.note.clearfix p@text\",\n  \"kind\": \"@css:.note_text,p:eq(4)@text\",\n  \"lastChapter\": \"@css:p:eq(3)@text\",\n  \"name\": \"@css:.name@text\"\n}",
  "ruleToc": "{\n  \"chapterList\": \"-:<li><a[^\\\"]+\\\"([^\\\"]*)\\\">([^<]*)\",\n  \"chapterName\": \"$2\",\n  \"chapterUrl\": \"$1\",\n  \"nextTocUrl\": \"\"\n}",
  "searchUrl": "/modules/article/search.php?searchkey={{key}}&amp;submit=&amp;page={{page}},{\n  \"charset\": \"gbk\"\n}",
  "weight": 0
}
</code></pre>
            </li>
            <li>
                <p>ä¹¦æºäºŒ</p>
                <pre><code>{
  "bookSourceGroup": "XPath; æ­£åˆ™",
  "bookSourceName": "ğŸ”¥é‡‡å¢¨é˜æ‰‹æœºç‰ˆ",
  "bookSourceType": 0,
  "bookSourceUrl": "https://m.caimoge.com",
  "bookUrlPattern": "",
  "customOrder": 0,
  "enabled": true,
  "enabledExplore": false,
  "exploreUrl": "",
  "lastUpdateTime": 0,
  "loginUrl": "",
  "ruleBookInfo": "{\n  \"author\": \"//*[@property=\\\"og:novel:author\\\"]/@content\",\n  \"coverUrl\": \"//*[@property=\\\"og:image\\\"]/@content\",\n  \"intro\": \"//*[@property=\\\"og:description\\\"]/@content\",\n  \"kind\": \"//*[@property=\\\"og:novel:category\\\"]/@content\",\n  \"lastChapter\": \"//*[@id=\\\"newlist\\\"]//li[1]/a/text()\",\n  \"name\": \"//*[@property=\\\"og:novel:book_name\\\"]/@content\",\n  \"tocUrl\": \"//a[text()=\\\"é˜…è¯»\\\"]/@href\"\n}",
  "ruleContent": "{\n  \"content\": \"//*[@id=\\\"content\\\"]\",\n  \"nextContentUrl\": \"\"\n}",
  "ruleExplore": "{}",
  "ruleSearch": "{\n  \"author\": \"//dd[2]/text()\",\n  \"bookList\": \"//*[@id=\\\"sitebox\\\"]/dl\",\n  \"bookUrl\": \"//dt/a/@href\",\n  \"coverUrl\": \"//img/@src\",\n  \"kind\": \"//dd[2]/span/text()\",\n  \"lastChapter\": \"\",\n  \"name\": \"//h3/a/text()\"\n}",
  "ruleToc": "{\n  \"chapterList\": \":href=\\\"(/read[^\\\"]*html)\\\">([^<]*)\",\n  \"chapterName\": \"$2\",\n  \"chapterUrl\": \"$1\",\n  \"nextTocUrl\": \"//*[@id=\\\"pagelist\\\"]/*[position()>1]/@value\"\n}",
  "searchUrl": "/search.html,{\n  \"method\": \"POST\",\n  \"body\": \"searchkey={{key}}\"\n}",
  "weight": 0
}
</code></pre>
            </li>
            <li>
                <p>ä¹¦æºä¸‰</p>
                <pre><code>{
  "bookSourceGroup": "JSon",
  "bookSourceName": "çŒé¹°å°è¯´ç½‘",
  "bookSourceType": 0,
  "bookSourceUrl": "http://api.book.lieying.cn",
  "customOrder": 0,
  "enabled": true,
  "enabledExplore": false,
  "header": "{\n  \"User-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36\"\n}",
  "lastUpdateTime": 0,
  "ruleBookInfo": "{}",
  "ruleContent": "{\n  \"content\": \"$.chapter.body\"\n}",
  "ruleExplore": "{}",
  "ruleSearch": "{\n  \"author\": \"$.author\",\n  \"bookList\": \"$..books[*]\",\n  \"bookUrl\": \"/Book/getChapterListByBookId?bookId={$._id}\",\n  \"coverUrl\": \"$.cover\",\n  \"intro\": \"$.shortIntro\",\n  \"kind\": \"$.minorCate\",\n  \"lastChapter\": \"$.lastChapter\",\n  \"name\": \"$.title\"\n}",
  "ruleToc": "{\n  \"chapterList\": \"$.chapterInfo.chapters.[*]\",\n  \"chapterName\": \"$.title\",\n  \"chapterUrl\": \"$.link\"\n}",
  "searchUrl": "/Book/search?query={{key}}&amp;start={{(page-1)*20}}&amp;limit=40&amp;device_type=android&amp;app_version=165",
  "weight": 0
}
</code></pre>
            </li>
        </ul>
    </div>
    <!-- Code injected by live-server -->
    <script>
        // <![CDATA[  <-- For SVG support
        if ('WebSocket' in window) {
            (function () {
                function refreshCSS() {
                    var sheets = [].slice.call(document.getElementsByTagName("link"));
                    var head = document.getElementsByTagName("head")[0];
                    for (var i = 0; i < sheets.length; ++i) {
                        var elem = sheets[i];
                        var parent = elem.parentElement || head;
                        parent.removeChild(elem);
                        var rel = elem.rel;
                        if (elem.href && typeof rel != "string" || rel.length == 0 || rel.toLowerCase() == "stylesheet") {
                            var url = elem.href.replace(/(&|\?)_cacheOverride=\d+/, '');
                            elem.href = url + (url.indexOf('?') >= 0 ? '&' : '?') + '_cacheOverride=' + (new Date().valueOf());
                        }
                        parent.appendChild(elem);
                    }
                }
                var protocol = window.location.protocol === 'http:' ? 'ws://' : 'wss://';
                var address = protocol + window.location.host + window.location.pathname + '/ws';
                var socket = new WebSocket(address);
                socket.onmessage = function (msg) {
                    if (msg.data == 'reload') window.location.reload();
                    else if (msg.data == 'refreshcss') refreshCSS();
                };
                if (sessionStorage && !sessionStorage.getItem('IsThisFirstTime_Log_From_LiveServer')) {
                    console.log('Live reload enabled.');
                    sessionStorage.setItem('IsThisFirstTime_Log_From_LiveServer', true);
                }
            })();
        }
        else {
            console.error('Upgrade your browser. This Browser is NOT supported WebSocket for Live-Reloading.');
        }
	// ]]>
    </script>


</body>
<script>
    function load_README() {
        $.get("Rule/BookSource_Instruction.md", function (response, status, xhr) {
            var converter = new showdown.Converter();
            $("#content").html(converter.makeHtml(response));
        });
    }

    function load_Subscribe() {
        $.get("Rule/RssSource_Instruction.md", function (response, status, xhr) {
            var converter = new showdown.Converter();
            $("#content").html(converter.makeHtml(response));
        });
    }
</script>

</html>
